import{Q as D,r as h,j as g,o as i,g as l,b as y,w,F as f,O as d,a as e,d as A,t as r,n as C,i as E,v as L,k,l as $,u,p as N,f as T}from"./app-CETcvn20.js";import{A as O}from"./AuthenticatedLayout-DpDyxtMx.js";import{C as Q}from"./CustomModal-DRh7MDf-.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-Bq_MNiVl.js";import"./CreateButton.vue_vue_type_style_index_0_scoped_2473c3fd_lang-hSJpCdlz.js";const s=_=>(N("data-v-a42e2d9b"),_=_(),T(),_),F={class:"deactivate-user-modal-alert-text"},M={class:"text-red-500"},R={class:"profile-index-container"},z={class:"profile-index-tab-selector"},W=s(()=>e("span",null,"Altes",-1)),G={class:"profile-index-tab-counter"},H=s(()=>e("span",null,"Baixes",-1)),J={class:"profile-index-tab-counter"},K=s(()=>e("span",null,"Sol·licituds",-1)),P={class:"profile-index-tab-counter"},X={class:"profile-index-search"},Y=["placeholder"],Z=s(()=>e("img",{src:"/assets/icons/search.svg",alt:"Cerca"},null,-1)),ee={key:0},te={class:"profile-index-tab"},se=s(()=>e("h1",null,"Altes",-1)),oe={class:"profile-index-tab-content"},ne=s(()=>e("div",{class:"profile-index-tab-content-header"},[e("span",null,"Correu electrònic"),e("span",null,"Accions")],-1)),ie={class:"profile-index-tab-content-row-actions"},le=["onClick"],ae=s(()=>e("img",{src:"/assets/icons/arrow-small-down.svg",alt:"Acceptar"},null,-1)),re=[ae],ce=["onClick"],de=s(()=>e("img",{src:"/assets/icons/edit.svg",alt:"Editar"},null,-1)),ue=[de],_e={key:1},pe={class:"profile-index-tab"},ve=s(()=>e("h1",null,"Baixes",-1)),he={class:"profile-index-tab-content"},fe=s(()=>e("div",{class:"profile-index-tab-content-header"},[e("span",null,"Correu electrònic"),e("span",null,"Accions")],-1)),me={class:"profile-index-tab-content-row-actions"},be=["onClick"],xe=s(()=>e("img",{src:"/assets/icons/arrow-small-up.svg",alt:"Acceptar"},null,-1)),ge=[xe],Ce=["onClick"],ke=s(()=>e("img",{src:"/assets/icons/edit.svg",alt:"Editar"},null,-1)),ye=[ke],we={key:2},Ae={class:"profile-index-tab"},$e=s(()=>e("h1",null,"Sol·licituds",-1)),Ve={class:"profile-index-tab-content"},Ue=s(()=>e("div",{class:"profile-index-tab-content-header"},[e("span",null,"Correu electrònic"),e("span",null,"Accions")],-1)),Ie={class:"profile-index-tab-content-row-actions"},Se=["onClick"],qe=s(()=>e("img",{src:"/assets/icons/arrow-small-up.svg",alt:"Rebutjar"},null,-1)),Be=[qe],De=["onClick"],Ee=s(()=>e("img",{src:"/assets/icons/edit.svg",alt:"Editar"},null,-1)),Le=[Ee],Ne={__name:"Index",props:{userRequests:{type:Array,required:!0},userRegistrations:{type:Array,required:!0},userDeactivations:{type:Array,required:!0}},setup(_){const c=_,V=D().props.auth.user,n=h(0),m=h("");function b(a){return a?a.email.toLowerCase().includes(m.value.toLowerCase()):!1}const U=g(()=>c.userRegistrations.filter(b)),I=g(()=>c.userDeactivations.filter(b)),S=g(()=>c.userRequests.filter(b)),p=h(!1),x=h(null);function q(a){x.value=a,p.value=!0}function B(){d.put(route("users.deactivate",x.value.id)),p.value=!1}return(a,o)=>(i(),l(f,null,[y(Q,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=t=>p.value=t),onClose:o[1]||(o[1]=t=>p.value=!1),onAccept:B},{default:w(()=>[e("div",F,[A(" Estàs segur que vols donar de baixa l'usuari "),e("span",M,r(x.value.email),1),A("? ")])]),_:1},8,["modelValue"]),y(O,null,{default:w(()=>[e("div",R,[e("div",z,[e("div",{class:C(n.value===0?"profile-index-tab-selector-selected":""),onClick:o[2]||(o[2]=t=>n.value=0)},[W,e("span",G,r(c.userRegistrations.length),1)],2),e("div",{class:C(n.value===1?"profile-index-tab-selector-selected":""),onClick:o[3]||(o[3]=t=>n.value=1)},[H,e("span",J,r(c.userDeactivations.length),1)],2),e("div",{class:C(n.value===2?"profile-index-tab-selector-selected":""),onClick:o[4]||(o[4]=t=>n.value=2)},[K,e("span",P,r(c.userRequests.length),1)],2)]),e("div",X,[E(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>m.value=t),type:"text",placeholder:`Cerca un usuari dins ${n.value===0?"d'altes":n.value===1?"de baixes":"de sol·licituds"}`},null,8,Y),[[L,m.value]]),Z]),n.value===0?(i(),l("div",ee,[e("div",te,[se,e("div",oe,[ne,(i(!0),l(f,null,k(U.value,t=>(i(),l("div",{class:"profile-index-tab-content-row",key:t.email},[e("span",null,r(t.email),1),e("span",ie,[t.id!==u(V).id?(i(),l("button",{key:0,onClick:v=>q(t),class:"red-button"},re,8,le)):$("",!0),e("button",{onClick:v=>u(d).get(a.route("profile.edit",t.id))},ue,8,ce)])]))),128))])])])):n.value===1?(i(),l("div",_e,[e("div",pe,[ve,e("div",he,[fe,(i(!0),l(f,null,k(I.value,t=>(i(),l("div",{class:"profile-index-tab-content-row",key:t.email},[e("span",null,r(t.email),1),e("span",me,[e("button",{onClick:v=>u(d).put(a.route("users.register",t.id)),class:"green-button"},ge,8,be),e("button",{onClick:v=>u(d).get(a.route("profile.edit",t.id))},ye,8,Ce)])]))),128))])])])):n.value===2?(i(),l("div",we,[e("div",Ae,[$e,e("div",Ve,[Ue,(i(!0),l(f,null,k(S.value,t=>(i(),l("div",{class:"profile-index-tab-content-row",key:t.email},[e("span",null,r(t.email),1),e("span",Ie,[e("button",{onClick:v=>u(d).put(a.route("users.register",t.id)),class:"green-button"},Be,8,Se),e("button",{onClick:v=>u(d).get(a.route("profile.edit",t.id))},Le,8,De)])]))),128))])])])):$("",!0)])]),_:1})],64))}},Re=j(Ne,[["__scopeId","data-v-a42e2d9b"]]);export{Re as default};
